(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={list:"ContactList_list__2r0Hy",item:"ContactList_item__2Z0Dr"}},11:function(t,e,n){t.exports={wrapper:"Filter_wrapper__3sBPv",label:"Filter_label__2scY9",input:"Filter_input__E8_Cg"}},12:function(t,e,n){t.exports={section:"App_section__2edOD",title:"App_title__dU9LD"}},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"getContacts",(function(){return k})),n.d(a,"addContact",(function(){return A})),n.d(a,"deleteContact",(function(){return D}));var c=n(0),r=n.n(c),o=n(8),s=n.n(o),i=n(5),u=n(20),l=n(16),d=n(4),b=n.n(d),f=n(1),m=function(t){var e=t.onSubmit,n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),u=i[0],d=i[1],m=function(t){var e=t.target,n=e.name,a=e.value;switch(n){case"name":o(a);break;case"number":d(a)}};return Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({name:r,number:u}),o(""),d("")},className:b.a.form,children:[Object(f.jsxs)("label",{className:b.a.label,children:["Name",Object(f.jsx)("input",{name:"name",type:"text",value:r,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:m,className:b.a.input,required:!0})]}),Object(f.jsxs)("label",{className:b.a.label,children:["Number",Object(f.jsx)("input",{name:"number",type:"tel",value:u,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:m,className:b.a.input,required:!0})]}),Object(f.jsx)("button",{type:"submit",className:b.a.button,children:" Add contact"})]})},j=n(10),p=n.n(j),h=function(t){var e=t.filterContacts,n=t.onDeleteContacts;return Object(f.jsx)("ul",{className:p.a.list,children:e.map((function(t){return Object(f.jsxs)("li",{className:p.a.item,children:[Object(f.jsxs)("p",{className:p.a.text,children:[t.name,": ",t.number," "]}),Object(f.jsx)("button",{type:"button",onClick:function(){return n(t.id)},children:"Delete"})]},t.id)}))})},O=n(11),C=n.n(O),x=function(t){var e=t.value,n=t.onChange;return Object(f.jsx)("div",{className:C.a.wrapper,children:Object(f.jsxs)("label",{className:C.a.label,children:["Find contacts by name",Object(f.jsx)("input",{type:"text",value:e,onChange:n,className:C.a.input})]})})},v=n(2),_=n(6),y=n(15),g=n.n(y),N=n(18),w="https://61c4a728f1af4a0017d99717.mockapi.io/phonebook",F=function(){var t=Object(N.a)(g.a.mark((function t(e){var n,a,c=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=3,fetch("".concat(w,"/").concat(e),n);case 3:return a=t.sent,t.abrupt("return",a.ok?a.json():Promise.reject(new Error(a.statusText)));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S="contacts",k=Object(v.c)("contacts/getContactsStatus",(function(){return F(S,t);var t})),A=Object(v.c)("contacts/addContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object(_.a)({method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"}},n);return F(t,a)}(S,t)})),D=Object(v.c)("contacts/deleteContactStatus",(function(t){return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return F("".concat(t,"/").concat(e),Object(_.a)({method:"DELETE"},n))}(S,t)})),L=Object(v.e)({name:"contacts",initialState:{items:[],filter:""},reducers:{changeFilter:function(t,e){var n=e.payload;t.filter=n}},extraReducers:function(t){t.addCase(k.fulfilled,(function(t,e){var n=e.payload;t.items=n})).addCase(A.fulfilled,(function(t,e){var n=e.payload;t.items.push(n)})).addCase(D.fulfilled,(function(t,e){var n=e.payload,a=t.items.findIndex((function(t){return t.id===n.id}));t.items.splice(a,1)}))}}),E=L.actions,P=(E.setContacts,E.addContacts,E.deleteContacts,E.filterContacts,L.reducer),T=n(12),z=n.n(T),J=n(19),Z=n(3),B=Object(v.b)("contacts/changeFilter"),R=Object(v.d)([],(function(t){t.addCase(k.fulfilled,(function(t,e){return e.payload})).addCase(A.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})).addCase(D.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n.id}))}))})),q=Object(v.d)("",(function(t){t.addCase(B,(function(t,e){return e.payload}))})),I=(Object(Z.b)({items:R,filter:q}),a.getContacts),M=a.addContact,U=a.deleteContact,H=function(){var t=Object(i.c)((function(t){return t.contacts.items})),e=Object(i.c)((function(t){return t.contacts.filter})),n=Object(i.b)();console.log(t),Object(c.useEffect)((function(){n(I())}),[n]);return Object(f.jsxs)("section",{className:z.a.section,children:[Object(f.jsx)("h1",{className:z.a.title,children:"Phonebook"}),Object(f.jsx)(m,{onSubmit:function(e){var a=e.name,c=e.number,r={id:Object(u.a)(),name:a,number:c};if(t.some((function(t){return t.name.toLowerCase()===r.name.toLowerCase()})))return alert("".concat(r.name," is already in contacts!"));n(M(r))}}),Object(f.jsx)("h2",{className:z.a.title,children:"Contacts"}),Object(f.jsx)(x,{onChange:function(t){return n(B(t.target.value))},value:e}),Object(f.jsx)(h,{filterContacts:function(){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}(),onDeleteContacts:function(t){return n(U(t))}})]})},Y=Object(v.a)({reducer:{contacts:P}});n(33),n(34);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(i.a,{store:Y,children:Object(f.jsx)(H,{})})}),document.getElementById("root"))},4:function(t,e,n){t.exports={form:"ContactForm_form__1yt4n",label:"ContactForm_label__3Cjah",input:"ContactForm_input__1donc",button:"ContactForm_button__1RyRo"}}},[[35,1,2]]]);
//# sourceMappingURL=main.71cae81a.chunk.js.map